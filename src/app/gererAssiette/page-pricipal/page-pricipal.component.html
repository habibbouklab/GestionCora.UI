<div class="container pt-3">
  <div class="card">
    <div class="card-header"><h3>Préparer votre assiette</h3></div>
    <div class="card-body">
      <h5 class="card-title">Préparer votre assiette</h5>
      <p class="card-text"></p>
      <div class="row">
        <div class="col-8">
          <div class="card border-primary">
            <div class="card-header">Liste des ingridients</div>
            <div class="card-body text-primary">
              <h5 class="card-title">
                Vous pouvez sélectionez les ingridients :
              </h5>
              <hr class="my-4" />
              <form
                [formGroup]="calculeCaloriesForm"
                (ngSubmit)="submitForm()"
                novalidate
              >
                <div
                  *ngFor="
                    let ingridient of listeIngridientComplete;
                    let i = index
                  "
                >
                  <label>
                    <input
                      type="checkbox"
                      [value]="ingridient.id"
                      (change)="onCheckboxChange($event)"
                      [checked]="ingridient.isSelected"
                    />
                    {{ ingridient.nom }}
                  </label>
                </div>
                <p
                  class="error"
                  *ngIf="this.calculeCaloriesForm.controls['ingridientsCheckBoxes'].errors?.['required']"
                >
                  Checkbox is required, select atleast one value.
                </p>
                <hr class="my-4" />
              </form>
              <p class="card-text"></p>
            </div>
            <div class="card-footer text-muted">
              Nombre d'ingridients :
              {{ listeIngridientComplete.length }}
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="card border-success">
            <div class="card-header">Ingridients sélectionnées</div>
            <div class="card-body border-success">
              <h5 class="card-title">Votre assiette contiennet</h5>
              <hr class="my-4" />
              <div *ngFor="let ingridient of listeIngridientSelectionnees">
                <app-ingridient [ingrident]="ingridient"> </app-ingridient>
              </div>
            </div>
            <div class="card-footer text-muted">
              Nombre d'ingridient :
              {{ listeIngridientSelectionnees.length }}
              <br />
              <b>Calories : {{ tauxCalories }} </b>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-footer text-muted">
      Merci de choisir notre restaurant ....
    </div>
  </div>
</div>
